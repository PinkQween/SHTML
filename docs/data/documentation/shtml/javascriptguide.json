{"metadata":{"role":"article","roleHeading":"Article","modules":[{"name":"SHTML"}],"title":"JavaScript Guide"},"sections":[],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/shtml.SHTML\/documentation\/SHTML\/JavaScriptGuide"},"abstract":[{"type":"text","text":"A practical guide to writing JavaScript in SHTML - from simple to advanced."}],"seeAlsoSections":[{"anchor":"Guides","identifiers":["doc:\/\/shtml.SHTML\/documentation\/SHTML\/CSSGuide","doc:\/\/shtml.SHTML\/documentation\/SHTML\/CSSReference","doc:\/\/shtml.SHTML\/documentation\/SHTML\/RoutingGuide","doc:\/\/shtml.SHTML\/documentation\/SHTML\/ShapesGuide"],"generated":true,"title":"Guides"}],"kind":"article","primaryContentSections":[{"content":[{"type":"heading","level":2,"anchor":"Quick-Start","text":"Quick Start"},{"type":"heading","level":3,"anchor":"Method-1-Inline-Event-Handlers-Simplest","text":"Method 1: Inline Event Handlers (Simplest)"},{"type":"paragraph","inlineContent":[{"text":"Add JavaScript directly to HTML attributes:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["button { \"Click Me\" }","    .onclick(\"alert('Hello!')\")"]},{"type":"paragraph","inlineContent":[{"text":"✅ ","type":"text"},{"inlineContent":[{"text":"Use this for:","type":"text"}],"type":"strong"},{"text":" Simple one-line actions, quick prototypes.","type":"text"}]},{"anchor":"Method-2-Script-Functions-Recommended","text":"Method 2: Script Functions (Recommended)","level":3,"type":"heading"},{"inlineContent":[{"type":"text","text":"Write reusable JavaScript functions:"}],"type":"paragraph"},{"code":["html {","    head {","        ScriptElement {","            JSFunc(\"handleClick\") {","                console.log(\"Button clicked!\")","                JSRaw(\"alert('Hello from SHTML!')\")","            }","        }","    }","    body {","        button { \"Click Me\" }","            .onclick(\"handleClick()\")","    }","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"✅ "},{"type":"strong","inlineContent":[{"type":"text","text":"Use this for:"}]},{"type":"text","text":" Reusable functions, complex logic, multiple actions."}],"type":"paragraph"},{"type":"heading","anchor":"Complete-Examples","level":2,"text":"Complete Examples"},{"type":"heading","anchor":"Example-1-Simple-Interactive-Button","level":3,"text":"Example 1: Simple Interactive Button"},{"type":"codeListing","syntax":"swift","code":["struct InteractiveButton: HTML {","    var body: some HTML {","        html {","            head {","                ScriptElement {","                    \/\/ Define the function","                    JSFunc(\"handleClick\") {","                        JSRaw(\"alert('Button clicked!')\")","                    }","                }","            }","            body {","                \/\/ Use the function","                button { \"Click Me\" }","                    .onclick(\"handleClick()\")","            }","        }","    }","}"]},{"type":"heading","anchor":"Example-2-DOM-Manipulation","level":3,"text":"Example 2: DOM Manipulation"},{"syntax":"swift","code":["html {","    head {","        ScriptElement {","            JSFunc(\"changeText\") {","                \/\/ Get element by ID","                const(\"element\", JSArg.raw(\"document.getElementById('myText')\"))","                ","                \/\/ Change its content","                JSRaw(\"element.textContent = 'Text changed!'\")","                ","                \/\/ Change its style","                JSRaw(\"element.style.color = 'blue'\")","            }","        }","    }","    body {","        p { \"Original text\" }","            .id(\"myText\")","        ","        button { \"Change Text\" }","            .onclick(\"changeText()\")","    }","}"],"type":"codeListing"},{"anchor":"Example-3-Form-Handling","text":"Example 3: Form Handling","level":3,"type":"heading"},{"syntax":"swift","code":["html {","    head {","        ScriptElement {","            JSFunc(\"handleSubmit\", params: [\"event\"]) {","                \/\/ Prevent page reload","                JSRaw(\"event.preventDefault()\")","                ","                \/\/ Get form values","                const(\"name\", JSArg.raw(\"document.getElementById('name').value\"))","                const(\"email\", JSArg.raw(\"document.getElementById('email').value\"))","                ","                \/\/ Log them","                console.log(\"Name:\", JSArg.raw(\"name\"))","                console.log(\"Email:\", JSArg.raw(\"email\"))","                ","                \/\/ Show alert","                JSRaw(\"alert('Form submitted!')\")","            }","        }","    }","    body {","        Form {","            Input()","                .type(\"text\")","                .id(\"name\")","                .placeholder(\"Your name\")","            ","            Input()","                .type(\"email\")","                .id(\"email\")","                .placeholder(\"your@email.com\")","            ","            button { \"Submit\" }","                .type(\"submit\")","        }","        .onsubmit(\"handleSubmit(event); return false;\")","    }","}"],"type":"codeListing"},{"type":"heading","level":3,"anchor":"Example-4-Counter-Complete-Interactive-Component","text":"Example 4: Counter (Complete Interactive Component)"},{"code":["struct Counter: HTML {","    var body: some HTML {","        html {","            head {","                ScriptElement {","                    \/\/ Initialize counter","                    let_(\"count\", JSArg.int(0))","                    ","                    \/\/ Update display","                    JSFunc(\"updateDisplay\") {","                        const(\"display\", JSArg.raw(\"document.getElementById('count')\"))","                        JSRaw(\"display.textContent = count\")","                    }","                    ","                    \/\/ Increment","                    JSFunc(\"increment\") {","                        JSRaw(\"count++\")","                        JSRaw(\"updateDisplay()\")","                    }","                    ","                    \/\/ Decrement","                    JSFunc(\"decrement\") {","                        JSRaw(\"count--\")","                        JSRaw(\"updateDisplay()\")","                    }","                    ","                    \/\/ Reset","                    JSFunc(\"reset\") {","                        JSRaw(\"count = 0\")","                        JSRaw(\"updateDisplay()\")","                    }","                }","            }","            body {","                VStack(spacing: \"20px\") {","                    h1 { \"Counter\" }","                    ","                    h2 { \"0\" }","                        .id(\"count\")","                        .fontSize(\"48px\")","                    ","                    HStack(spacing: \"10px\") {","                        button { \"−\" }","                            .onclick(\"decrement()\")","                            .padding(\"10px 20px\")","                        ","                        button { \"Reset\" }","                            .onclick(\"reset()\")","                            .padding(\"10px 20px\")","                        ","                        button { \"+\" }","                            .onclick(\"increment()\")","                            .padding(\"10px 20px\")","                    }","                }","                .padding(\"40px\")","                .textAlign(\"center\")","            }","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"anchor":"Using-Natural-JavaScript-API","text":"Using Natural JavaScript API"},{"type":"paragraph","inlineContent":[{"text":"SHTML provides a natural API for writing JavaScript that looks like Swift:","type":"text"}]},{"type":"heading","level":3,"anchor":"Console-Logging","text":"Console Logging"},{"code":["ScriptElement {","    console.log(\"Hello, world!\")","    console.log(\"Multiple\", \"arguments\")","    console.error(\"An error occurred\")","    console.warn(\"Warning message\")","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"anchor":"Document-Manipulation","text":"Document Manipulation"},{"code":["ScriptElement {","    JSFunc(\"manipulateDOM\") {","        \/\/ Get element","        const(\"element\", JSArg.raw(\"document.getElementById('myDiv')\"))","        ","        \/\/ Change properties","        JSRaw(\"element.innerHTML = '<p>New content<\/p>'\")","        JSRaw(\"element.style.background = 'red'\")","        JSRaw(\"element.classList.add('active')\")","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"anchor":"Variables","text":"Variables"},{"code":["ScriptElement {","    \/\/ Const (immutable)","    const(\"PI\", JSArg.number(3.14159))","    ","    \/\/ Let (mutable)","    let_(\"count\", JSArg.int(0))","    ","    \/\/ Var (function-scoped)","    var_(\"message\", JSArg.string(\"Hello\"))","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"anchor":"Functions-with-Parameters","text":"Functions with Parameters"},{"code":["ScriptElement {","    JSFunc(\"greet\", params: [\"name\"]) {","        const(\"message\", JSArg.raw(\"'Hello, ' + name + '!'\"))","        console.log(JSArg.raw(\"message\"))","    }","    ","    \/\/ Call it","    JSRaw(\"greet('Alice')\")","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"anchor":"AsyncAwait-and-Fetch","text":"Async\/Await and Fetch"},{"type":"heading","level":3,"anchor":"Fetching-Data-from-an-API","text":"Fetching Data from an API"},{"code":["ScriptElement {","    JSFunc(\"fetchData\", async: true) {","        JSRaw(\"\"\"","        try {","            const response = await fetch('\/api\/data');","            const data = await response.json();","            console.log(data);","            ","            \/\/ Update UI","            document.getElementById('result').textContent = JSON.stringify(data);","        } catch (error) {","            console.error('Error:', error);","        }","        \"\"\")","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"anchor":"Complete-Fetch-Example","text":"Complete Fetch Example"},{"code":["html {","    head {","        ScriptElement {","            JSFunc(\"loadUsers\", async: true) {","                JSRaw(\"\"\"","                try {","                    \/\/ Show loading","                    document.getElementById('users').textContent = 'Loading...';","                    ","                    \/\/ Fetch data","                    const response = await fetch('https:\/\/jsonplaceholder.typicode.com\/users');","                    const users = await response.json();","                    ","                    \/\/ Build HTML","                    const html = users.map(user => ","                        `<li>${user.name} - ${user.email}<\/li>`","                    ).join('');","                    ","                    \/\/ Update DOM","                    document.getElementById('users').innerHTML = html;","                } catch (error) {","                    document.getElementById('users').textContent = 'Error loading users';","                    console.error(error);","                }","                \"\"\")","            }","        }","    }","    body {","        button { \"Load Users\" }","            .onclick(\"loadUsers()\")","        ","        ul { }","            .id(\"users\")","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"anchor":"Event-Listeners","text":"Event Listeners"},{"type":"heading","level":3,"anchor":"Adding-Event-Listeners","text":"Adding Event Listeners"},{"code":["ScriptElement {","    \/\/ Run when page loads","    JSRaw(\"\"\"","    document.addEventListener('DOMContentLoaded', function() {","        console.log('Page loaded!');","        ","        \/\/ Add event listener to button","        const button = document.getElementById('myButton');","        button.addEventListener('click', function() {","            console.log('Button clicked!');","        });","    });","    \"\"\")","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"anchor":"Keyboard-Events","text":"Keyboard Events"},{"code":["ScriptElement {","    JSRaw(\"\"\"","    document.addEventListener('keydown', function(event) {","        if (event.key === 'Enter') {","            console.log('Enter key pressed');","        }","        if (event.key === 'Escape') {","            console.log('Escape key pressed');","        }","    });","    \"\"\")","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"anchor":"Local-Storage","text":"Local Storage"},{"code":["ScriptElement {","    \/\/ Save data","    JSFunc(\"saveData\") {","        const(\"data\", JSArg.string(\"Hello, Storage!\"))","        JSRaw(\"localStorage.setItem('myData', data)\")","        console.log(\"Data saved!\")","    }","    ","    \/\/ Load data","    JSFunc(\"loadData\") {","        const(\"data\", JSArg.raw(\"localStorage.getItem('myData')\"))","        console.log(\"Loaded:\", JSArg.raw(\"data\"))","        JSRaw(\"document.getElementById('output').textContent = data\")","    }","    ","    \/\/ Clear data","    JSFunc(\"clearData\") {","        JSRaw(\"localStorage.removeItem('myData')\")","        console.log(\"Data cleared!\")","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"anchor":"Timers-and-Intervals","text":"Timers and Intervals"},{"type":"heading","level":3,"anchor":"Delayed-Actions-setTimeout","text":"Delayed Actions (setTimeout)"},{"code":["ScriptElement {","    JSFunc(\"delayedAction\") {","        console.log(\"Starting...\")","        JSRaw(\"\"\"","        setTimeout(function() {","            console.log('This runs after 2 seconds');","            alert('Delayed message!');","        }, 2000);","        \"\"\")","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"anchor":"Repeating-Actions-setInterval","text":"Repeating Actions (setInterval)"},{"code":["ScriptElement {","    let_(\"intervalId\", JSArg.raw(\"null\"))","    let_(\"counter\", JSArg.int(0))","    ","    JSFunc(\"startCounter\") {","        JSRaw(\"\"\"","        intervalId = setInterval(function() {","            counter++;","            document.getElementById('counter').textContent = counter;","        }, 1000);","        \"\"\")","    }","    ","    JSFunc(\"stopCounter\") {","        JSRaw(\"clearInterval(intervalId)\")","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"anchor":"Complete-Real-World-Example-Todo-List","text":"Complete Real-World Example: Todo List"},{"code":["struct TodoApp: HTML {","    var body: some HTML {","        html {","            head {","                Title(\"Todo App\")","                ScriptElement {","                    let_(\"todos\", JSArg.raw(\"[]\"))","                    ","                    JSFunc(\"addTodo\") {","                        const(\"input\", JSArg.raw(\"document.getElementById('todoInput')\"))","                        const(\"text\", JSArg.raw(\"input.value.trim()\"))","                        ","                        JSRaw(\"\"\"","                        if (text === '') return;","                        ","                        todos.push({ id: Date.now(), text: text, done: false });","                        input.value = '';","                        renderTodos();","                        \"\"\")","                    }","                    ","                    JSFunc(\"toggleTodo\", params: [\"id\"]) {","                        JSRaw(\"\"\"","                        const todo = todos.find(t => t.id === id);","                        if (todo) {","                            todo.done = !todo.done;","                            renderTodos();","                        }","                        \"\"\")","                    }","                    ","                    JSFunc(\"deleteTodo\", params: [\"id\"]) {","                        JSRaw(\"\"\"","                        todos = todos.filter(t => t.id !== id);","                        renderTodos();","                        \"\"\")","                    }","                    ","                    JSFunc(\"renderTodos\") {","                        const(\"list\", JSArg.raw(\"document.getElementById('todoList')\"))","                        JSRaw(\"\"\"","                        list.innerHTML = todos.map(todo => `","                            <li style=\"margin: 10px 0; padding: 10px; background: white; border-radius: 8px;\">","                                <input type=\"checkbox\" ","                                       ${todo.done ? 'checked' : ''} ","                                       onchange=\"toggleTodo(${todo.id})\">","                                <span style=\"${todo.done ? 'text-decoration: line-through; color: #999;' : ''}\">${todo.text}<\/span>","                                <button onclick=\"deleteTodo(${todo.id})\" style=\"float: right; color: red;\">Delete<\/button>","                            <\/li>","                        `).join('');","                        \"\"\")","                    }","                    ","                    \/\/ Handle Enter key","                    JSRaw(\"\"\"","                    document.addEventListener('DOMContentLoaded', function() {","                        document.getElementById('todoInput').addEventListener('keypress', function(e) {","                            if (e.key === 'Enter') addTodo();","                        });","                    });","                    \"\"\")","                }","            }","            body {","                VStack(spacing: \"20px\") {","                    h1 { \"Todo List\" }","                    ","                    HStack(spacing: \"10px\") {","                        Input()","                            .type(\"text\")","                            .id(\"todoInput\")","                            .placeholder(\"What needs to be done?\")","                            .padding(\"10px\")","                            .frame(width: \"300px\")","                        ","                        button { \"Add\" }","                            .onclick(\"addTodo()\")","                            .padding(\"10px 20px\")","                    }","                    ","                    ul { }","                        .id(\"todoList\")","                        .style(\"list-style: none; padding: 0;\")","                }","                .padding(\"40px\")","            }","            .background(\"#f5f5f5\")","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"anchor":"Tips-and-Best-Practices","text":"Tips and Best Practices"},{"type":"orderedList","items":[{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Use JSRaw for complex code","type":"text"}]},{"type":"text","text":" - For multi-line JavaScript, use "},{"type":"codeVoice","code":"JSRaw(\"\"\" ... \"\"\")"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Prefer functions over inline","type":"text"}]},{"type":"text","text":" - Define functions in "},{"type":"codeVoice","code":"<head>"},{"type":"text","text":", call them from events"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Always prevent default on forms","type":"text"}]},{"type":"text","text":" - Use "},{"type":"codeVoice","code":"event.preventDefault()"},{"type":"text","text":" in submit handlers"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Check for null","type":"text"}]},{"type":"text","text":" - Always check if elements exist before manipulating them"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Use DOMContentLoaded","type":"text"}]},{"type":"text","text":" - Wait for page to load before accessing elements"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Keep it simple","type":"text"}]},{"type":"text","text":" - For complex apps, consider using the JS router or a framework"}],"type":"paragraph"}]}]},{"type":"heading","level":2,"anchor":"Common-Patterns","text":"Common Patterns"},{"type":"heading","level":3,"anchor":"ShowHide-Element","text":"Show\/Hide Element"},{"code":["JSFunc(\"toggleElement\", params: [\"id\"]) {","    const(\"element\", JSArg.raw(\"document.getElementById(id)\"))","    JSRaw(\"\"\"","    if (element.style.display === 'none') {","        element.style.display = 'block';","    } else {","        element.style.display = 'none';","    }","    \"\"\")","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"anchor":"Form-Validation","text":"Form Validation"},{"code":["JSFunc(\"validateForm\") {","    const(\"email\", JSArg.raw(\"document.getElementById('email').value\"))","    JSRaw(\"\"\"","    if (!email.includes('@')) {","        alert('Please enter a valid email');","        return false;","    }","    return true;","    \"\"\")","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"anchor":"Modal-Dialog","text":"Modal Dialog"},{"code":["JSFunc(\"showModal\") {","    JSRaw(\"document.getElementById('modal').style.display = 'flex'\")","}","","JSFunc(\"closeModal\") {","    JSRaw(\"document.getElementById('modal').style.display = 'none'\")","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"anchor":"Next-Steps","text":"Next Steps"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Learn about the Router for single-page applications"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Check out the full JavaScript examples in the repository"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Explore the Natural JavaScript API documentation"}],"type":"paragraph"}]}]}],"kind":"content"}],"schemaVersion":{"patch":0,"minor":3,"major":0},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/shtml\/javascriptguide"]}],"hierarchy":{"paths":[["doc:\/\/shtml.SHTML\/documentation\/SHTML"]]},"references":{"doc://shtml.SHTML/documentation/SHTML/RoutingGuide":{"type":"topic","title":"Routing Guide","kind":"article","role":"article","abstract":[{"type":"text","text":"Learn how to build client-side navigation with "},{"type":"codeVoice","code":"Router"},{"type":"text","text":", "},{"type":"codeVoice","code":"Route"},{"type":"text","text":", "},{"type":"codeVoice","code":"RouterLink"},{"type":"text","text":", and "},{"type":"codeVoice","code":"Navigate"},{"type":"text","text":"."}],"url":"\/documentation\/shtml\/routingguide","identifier":"doc:\/\/shtml.SHTML\/documentation\/SHTML\/RoutingGuide"},"doc://shtml.SHTML/documentation/SHTML":{"title":"SHTML","abstract":[{"text":"A SwiftUI-inspired framework for generating HTML, CSS, and JavaScript with complete type safety.","type":"text"}],"role":"collection","type":"topic","kind":"symbol","url":"\/documentation\/shtml","identifier":"doc:\/\/shtml.SHTML\/documentation\/SHTML"},"doc://shtml.SHTML/documentation/SHTML/ShapesGuide":{"type":"topic","kind":"article","identifier":"doc:\/\/shtml.SHTML\/documentation\/SHTML\/ShapesGuide","abstract":[{"type":"text","text":"Learn how to create vector graphics using SHTML’s SVG shapes."}],"title":"Working with Shapes","url":"\/documentation\/shtml\/shapesguide","role":"article"},"doc://shtml.SHTML/documentation/SHTML/CSSReference":{"url":"\/documentation\/shtml\/cssreference","role":"article","identifier":"doc:\/\/shtml.SHTML\/documentation\/SHTML\/CSSReference","abstract":[{"type":"text","text":"A comprehensive guide to all CSS properties available in SHTML with type-safe lengths."}],"title":"Complete CSS Reference","kind":"article","type":"topic"},"doc://shtml.SHTML/documentation/SHTML/CSSGuide":{"url":"\/documentation\/shtml\/cssguide","role":"article","identifier":"doc:\/\/shtml.SHTML\/documentation\/SHTML\/CSSGuide","abstract":[{"type":"text","text":"A practical guide to using CSS in SHTML - from basic to advanced, with type-safe CSS lengths."}],"title":"CSS Guide","kind":"article","type":"topic"}}}